<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>全市功能区声环境质量状况图</title>
</head>

<body>
    <!--Step:1 Prepare a dom for ECharts which (must) has size (width & hight)-->
    <!--Step:1 为ECharts准备一个具备大小（宽高）的Dom-->
    <div id="main" style="width:800px;height:360px;"></div>
    
    <!--Step:2 Import echarts.js-->
    <!--Step:2 引入echarts.js-->
    <script src="/templates/view/dcdb/page/echarts/echarts.min.js"></script>
    
    <script type="text/javascript">
//		var xData = ['昼间\n              1类区','夜间','昼间\n              2类区','夜间','昼间\n              3类区','夜间','昼间\n              4a类区','夜间'];
//		var datas1 = [56,48,45,49,56,52,65,59];
//		var datas2 = [55,45,60,50,66,56,70,56];
//		option = {
//	        legend: {
//	            top: -10,
//	            x: 'right',
//// 	            left: 200,
//	            itemWidth: 10,
//	            itemHeight: 10,
//	            // padding: [5, 10],
//	            textStyle: {
//	                fontSize: 16,
//	                color: '#96A4F4',
//	                padding: [0, 24, 0, 0]
//	            },
//	            data: ['年均值','标准值']
//	        },
//		    "tooltip": {
//		        "trigger": "axis",
//		        "axisPointer": {
//		            "type": "shadow",
//		            textStyle: {
//		                color: "#fff"
//		            }
//		        },
//		    },
//		    "grid": {
//		        "borderWidth": 0,
//		        "top": 40,
//		        "bottom": 95,
//		        textStyle: {
//		            color: "#fff"
//		        }
//		    },
//		    "calculable": false,
//		    "xAxis": [{
//		        "type": "category",
//		        "axisLine": {
//		            lineStyle: {
//		                color: 'rgba(255,255,255,.5)'
//		            }
//		        },
//		        "splitLine": {
//		            "show": false
//		        },
//		        "axisTick": {
//		            "show": false
//		        },
//		        "splitArea": {
//		            "show": false
//		        },
//		        "axisLabel": {
//		            "interval": 0,
//		            color:'rgba(255,255,255,0.7)',
//		            fontSize:16,
//		        },
//		        "data": xData,
//		    }],
//		    "yAxis": [{
//		        "type": "value",
//		        "splitLine": {
//		        	lineStyle: {
//	                    color: 'rgba(150, 164, 244, 0.3)'
//	                }
//		        },
//		        "axisLine": {
//		            "show": false
//		        },
//		        "axisTick": {
//		            "show": false
//		        },
//		        "axisLabel": {
//		            "interval": 0,
//		            color:'rgba(255,255,255,0.5)',
//		            fontSize: 16
//		        },
//		        "splitArea": {
//		            "show": false
//		        },
//		    }],
//		    "series": [{
//		            "name": "年均值",
//		            "type": "bar",
//		            "stack": "年均值",
//		            "barWidth": 26,
//		            "barGap": "10%",
//	                zlevel:2,
//	                min:0,
//	                max:80,
//		            "itemStyle": {
//		                "normal": {
//		                    "color": 
//		                    {
//		                        type: 'linear',
//		                        x: 0,
//		                        y: 0,
//		                        x2: 0,
//		                        y2: 1,
//		                        colorStops: [{
//		                            offset: 0,
//		                            color: 'rgba(35, 157, 250, 1)' // 0% 处的颜色
//		                        }, {
//		                            offset: 1,
//		                            color: 'rgba(35, 157, 250, 0)' // 100% 处的颜色
//		                        }],
//		                        global: false // 缺省为 false
//		                    }
//		                }
//		            },
//		            "data": datas1,
//		        },
//		        {
//		            "name": "标准值",
//		            "type": "bar",
//		            "stack": "标准值",
//		            "barWidth": 40,
//		            "barGap": '-124%',
//	                zlevel:1,
//	                min:0,
//	                max:80,
//		            "itemStyle": {
//		                "normal": {
//		                    "color": {
//		                        type: 'linear',
//		                        x: 0,
//		                        y: 0,
//		                        x2: 0,
//		                        y2: 1,
//		                        colorStops: [{
//		                            offset: 0,
//		                            color: 'rgba(35, 250, 187, 1)' // 0% 处的颜色
//		                        }, {
//		                            offset: 1,
//		                            color: 'rgba(35, 250, 187, 0)' // 100% 处的颜色
//		                        }],
//		                        global: false // 缺省为 false
//		                    },
//		                    "barBorderRadius": 0
//		                },
//		                opacity:1,
//		            },
//		            "data": datas2
//		        }
//		    ]
//		}





		var myChart = echarts.init(document.getElementById('main'));
		let data = {
		    xData: ['昼间','夜间','昼间','夜间','昼间','夜间','昼间','夜间'],
			datas1 : [56,48,45,49,56,52,65,59],
			datas2 : [55,45,60,50,66,56,70,56]
		}
		/**
		    双X轴标签对应，伪实现思路：
		    底部的标签也是柱状图，对应包含的区域为上方X轴条数占总数的比例，设为宽度即可
		*/
		option = {
	        legend: {
	            top: -12,
	            x: 'right',
// 	            left: 200,
	            itemWidth: 10,
	            itemHeight: 10,
	            // padding: [5, 10],
	            textStyle: {
	                fontSize: 16,
	                color: 'white',
	                padding: [0, 53, 0, 0]
	            },
	            data: ['年均值','标准值']
	        },
		    tooltip: {
		        trigger: 'axis',
		        axisPointer: {
		            type: 'shadow'
		        }
		    },
		    grid: [
		        {
		            top: 30,
		            bottom: 101
		        },
		        {
		            height: 60,
		            bottom: 40
		        }
		    ],
		    xAxis: [{
		        type: 'category',
		        data: data.xData,
		        gridIndex: 0,
		        axisLabel: {
		            color: "white",
		            fontFamliy: 'Microsoft YaHei',
		            fontSize: 16,
		        },
		        axisLine: {
		            lineStyle: {
		                color: '#e7e7e7'
		            }
		        },
		        axisTick: {
			        show: false
		        },
		        zlevel: 2
		    }, {
		        type: 'category',
		        gridIndex: 1,
		        axisLine: {
		            show: false
		        },
		        zlevel: 1
		    }],
		    yAxis: [{
		        type: 'value',
		        gridIndex: 0,
		        axisLabel: {
		            color: "white",
		            fontFamliy: 'Microsoft YaHei',
		            fontSize: 16,
		        },
		        splitLine: {
		            lineStyle: {
		            	color: 'rgba(150, 164, 244, 0.3)'
		            }
		        },
		        axisLine: {
		            lineStyle: {
		                color: '#ccc'
		            }
		        },
		        axisTick: {
			        show: false
		        }
		    },{
		        type: 'value',
		        gridIndex: 1,
		        axisLabel: {
		            show: false
		        },
		        axisLine: {
		            show: false
		        },
		        splitLine: {
		            show: false
		        },
		        axisTick: {
		            show: false
		        }
		    }],
		    series: [{
		    	name: "标准值",
		        data: data.datas2,
		        type: 'bar',
		        barWidth: 26,
		        barGap: '10%',
		        min:0,
		        max:80,
                zlevel:1,
		        label: {
		            show: false,
		            position: 'top',
		            textStyle: {
		                color: "white",
		                fontFamliy: 'Microsoft YaHei',
		                fontSize: 16,
		            }
		        },
		        itemStyle: {
		            normal: {
		                color: {
		                    type: 'linear',
		                    x: 0,
		                    y: 0,
		                    x2: 0,
		                    y2: 1,
		                    colorStops: [{
		                        offset: 0,
		                        color: 'rgba(35, 157, 250, 1)' // 0% 处的颜色
		                    }, {
		                        offset: 1,
		                        color: 'rgba(35, 157, 250, 0)' // 100% 处的颜色
		                    }],
		                    global: false // 缺省为 false
		                }
		            }
		        },
		        xAxisIndex: 0,
		        yAxisIndex: 0
		    },{
		    	name: "年均值",
		        data: data.datas1,
		        type: 'bar',
		        barWidth: 40,
		        barGap: '-124%',
		        min:0,
		        max:80,
                zlevel:0,
		        label: {
		            show: false,
		            position: 'top',
		            textStyle: {
		                color: "white",
		                fontFamliy: 'Microsoft YaHei',
		                fontSize: 16,
		            }
		        },
		        itemStyle: {
		            normal: {
		                color: {
		                    type: 'linear',
		                    x: 0,
		                    y: 0,
		                    x2: 0,
		                    y2: 1,
		                    colorStops: [{
		                        offset: 0,
		                        color: 'rgba(35, 250, 187, 1)' // 0% 处的颜色
		                    }, {
		                        offset: 1,
		                        color: 'rgba(35, 250, 187, 0)' // 100% 处的颜色
		                    }],
		                    global: false // 缺省为 false
		                }
		            }
		        },
		        xAxisIndex: 0,
		        yAxisIndex: 0
		    },{
		        data: [{
		            name: '1类区',
		            value: 1
		        }],
		        label: {
		            show: true,
		            position: 'inside',
		            formatter: '{b}',
		            offset: [0, 14],
		            textStyle: {
		                color: "white",
		                fontFamliy: 'Microsoft YaHei',
		                fontSize: 16,
		            }
		        },
		        type: 'bar',
		        barGap: '0%',
		        barWidth: '25%',
		        itemStyle: {
		            normal: {
		                color: '#9C5C6A'
		            }
		        },
		        xAxisIndex: 1,
		        yAxisIndex: 1
		    },{
		        data: [{
		            name: '2类区',
		            value: 1
		        }],
		        label: {
		            show: true,
		            position: 'inside',
		            formatter: '{b}',
		            offset: [0, 14],
		            textStyle: {
		                color: "white",
		                fontFamliy: 'Microsoft YaHei',
		                fontSize: 16,
		            }
		        },
		        type: 'bar',
		        barGap: '0%',
		        barWidth: '25%',
		        itemStyle: {
		            normal: {
		                color: '#36718A'
		            }
		        },
		        xAxisIndex: 1,
		        yAxisIndex: 1
		    },,{
		        data: [{
		            name: '3类区',
		            value: 1
		        }],
		        label: {
		            show: true,
		            position: 'inside',
		            formatter: '{b}',
		            offset: [0, 14],
		            textStyle: {
		                color: "white",
		                fontFamliy: 'Microsoft YaHei',
		                fontSize: 16,
		            }
		        },
		        type: 'bar',
		        barGap: '0%',
		        barWidth: '25%',
		        itemStyle: {
		            normal: {
		                color: '#5A868B'
		            }
		        },
		        xAxisIndex: 1,
		        yAxisIndex: 1
		    },,{
		        data: [{
		            name: '4a类区',
		            value: 1
		        }],
		        label: {
		            show: true,
		            position: 'inside',
		            formatter: '{b}',
		            offset: [0, 14],
		            textStyle: {
		                color: "white",
		                fontFamliy: 'Microsoft YaHei',
		                fontSize: 16,
		            }
		        },
		        type: 'bar',
		        barGap: '0%',
		        barWidth: '25%',
		        itemStyle: {
		            normal: {
		                color: '#1D3D6F'
		            }
		        },
		        xAxisIndex: 1,
		        yAxisIndex: 1
		    }]
		};

	    myChart.setOption(option);
    </script>
</body>
</html>